dist: xenial
language: python
python:
- '3.6'
install:
- pip install -r requirements.txt
- pip install -r requirements_dev.txt
- pip install -e .
script:
- pytest --cov=warg --ignore=tests/test_toaster.py
- coveralls
- black --check warg
deploy:
  provider: pypi
  user: aivclab
  password:
    secure: ecflyXFpTAENKJgfyhV/G7s9N4riZr3Stozk8wP4fyWtCdVpL0WGizQ2g/JZgOBHcJYqDzKSuBjiBsS+D19RRePg5DsPOPZVNX+Mryw6EcUlnU+zfgvt0yJfcxo3zfpLbNx0idFiTP/b32ABBt69DJZxo6Z5k5jp8DaWfbeeCPXv4tYsnX7duXWWIz/Y4ytgkn0d3jvjPx6lCnzfDY131ul4UNwzrb/76WvK1Lf0UIk+FWp/3YqBzigpvKcMasFyaZwu5nkgctM5s6I6y1Vmm37EVfDXcUEbQTHcIq89QYO6Ck06zjO+QZtjnhfvSropmtPCvspltzR+N14LmSmiwx//kX4kxJEnOEhADnx5tXzhpPi9R3ARNnOg/XT7szMWhvneRS/2c5B2cuSX/OLreoI0ZIjDt8ArHSI1zTjfyZQ9GtXQzWPQfB3r+BffVZg4Fxa07SvBAvVeUTiZl4cAn+w1JUeDnX5ojHbDjLpJgtma9Ot7b2rF5adIptPp2F26kdKkC3L8WQMLCrcl98GvWS36L5wzC7WLgGzHbVXjOdpmT1Tb27//V3yhwhe53UulEBAG+KJOHTmYaiSnDjrD4yxbQMyP/UkQAPrdFWzMPDtM9OOdVz92A3u8cgegJpEEkD7t8NFzcLD5sNjepk3CV8oHYE9zOtQ5hMt5JPt389M=
  on:
    tags: true
